汇总计算

1.汇总baseanalysis

1.1）知道要汇总那些属性
1.2）汇总后的转换的对象
1.3）汇总后的持久化类如何分

老办法：
1.分解
2.各个击破
	//1.转发评论
	private Map<String, Map<String, Integer>> tranCom; ----------[done]
	//2.用户类型（水军用户 ，真实用户）
	private Map<String, Integer> shuiJunMap;---------------------[done]
	//3.表情统计
	private Map<String, Integer> expressionMap;------------------[done]//累积时获取数值最高的前20
	//4.用户认证类型
	private Map<String, Integer> cerTypeMap;---------------------[done]
	//5.关键字
	private Map<String, Integer> keyworkMap;---------------------[done]
	//6.用户地区分布
	private Map<String,Integer> areaMap;-------------------------[done]
	//7.用户粉丝分析
	private Map<String,Integer> userFansMap;---------------------[done]
	
	
baseAnalysis变成list准备持久化
	private String outId;      //一样
	private int typeId;        //一样
	private int analysisType;  
	private String name;
	private int count;
	private String code;
	private Date date;        //一样
	private Timestamp dateTime;//一样
	
Q1.源头--------------[done]
Q2.统计表-------------[done]
Q3.结果池-------------[done]








1.层数，随机
2.数据库连接失败
3.内存优化
4.代码优化


测试：
服务器上测试


数据库的表已经不用copy表
要换就换库


一个页的时候，入库不成功---[done]

下载sourceTd，可能为空，要考虑初始化-----[]


com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Column 'Content' cannot be null
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:931)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2991)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1637)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1729)
	at com.mysql.jdbc.Connection.execSQL(Connection.java:3283)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1332)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1604)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1519)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1504)
	at com.xzc.concurrServer.db.SqlWorker.saveTransDetailList(SqlWorker.java:223)
	at com.xzc.concurrServer.db.SqlWorker.saveResult(SqlWorker.java:250)
	at com.xzc.concurr.result.ResultCumulatePool.testContain(ResultCumulatePool.java:177)
	at com.xzc.concurrServer.men.Boss.run(Boss.java:34)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)








	
	